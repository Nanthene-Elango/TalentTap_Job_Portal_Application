<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TalentTap - Jobs</title>
<link rel="icon" type="image/x-icon" th:href="@{/img/favicon.png}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
<link
	href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{jobseeker/css/style.css}">
<link rel="stylesheet" th:href="@{jobseeker/css/index.css}">
<link rel="stylesheet" th:href="@{jobseeker/css/jobs.css}">
<script th:src="@{jobseeker/js/jobs.js}"></script>
<script th:src="@{jobseeker/js/util.js}"></script>
</head>

<body>


	<div th:replace="jobseeker/navbar :: navbar"></div>

	<div class="search-section">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-10">
					<div class="input-group">
						<input type="text" class="form-control search-bar"
							placeholder="Search jobs, skills, or companies...">
						<button class="btn btn-primary search-btn">Search</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Filter Section -->
	<div class="container mt-4">
		<div class="filter-section">
			<div class="row mb-3">
				<div class="col-md-8">
					<h5 class="filter-heading mb-0">
						Filters <span
							class="filter-count badge rounded-pill bg-light text-dark">0
							selected</span>
					</h5>
				</div>

				<div class="col-md-4 text-end">
					<a href="#" class="clear-filter" onclick="clearFilters()">Clear
						All Filters</a>
					<button class="btn btn-sm filter-toggle-btn ms-2" type="button"
						data-bs-toggle="collapse" data-bs-target="#filterCollapse"
						aria-expanded="true" aria-controls="filterCollapse">
						<i class="bi bi-chevron-up"></i>
					</button>
				</div>
			</div>

			<div class="row my-3">
				<div class="col-12">
					<div class="filter-tags" id="activeFilterTags">
						<!-- Active filter tags will appear here -->
					</div>
				</div>
			</div>

			<div class="collapse show" id="filterCollapse">
				<div class="row">
					<div class="col-md-3 mb-3">
						<div class="filter-group">
							<div class="filter-label">Job Type</div>
							<select class="filter-select" id="job-type"
								onchange="toggleFilters()">
								<option value="">Any Type</option>
								<option value="fulltime">Full Time</option>
								<option value="parttime">Part Time</option>
								<option value="internship">Internship</option>
								<option value="contract">Contract</option>
							</select>
						</div>
					</div>

					<div class="col-md-3 mb-3">
						<div class="filter-group">
							<div class="filter-label">Location</div>
							<select class="filter-select" id="location">
								<option value="">Any Location</option>
								<option value="remote">Remote</option>
								<option value="new-york">New York</option>
								<option value="san-francisco">San Francisco</option>
								<option value="london">London</option>
								<option value="bangalore">Bangalore</option>
							</select>
						</div>
					</div>

					<div class="col-md-3 mb-3">
						<div class="filter-group">
							<div class="filter-label">Experience</div>
							<select class="filter-select" id="experience">
								<option value="">Any Experience</option>
								<option value="entry">Entry Level</option>
								<option value="mid">Mid Level</option>
								<option value="senior">Senior Level</option>
								<option value="executive">Executive</option>
							</select>
						</div>
					</div>

					<div class="col-md-3 mb-3">
						<div class="filter-group">
							<div class="filter-label">Industry</div>
							<select class="filter-select" id="industry">
								<option value="">Any Industry</option>
								<option value="tech">Technology</option>
								<option value="finance">Finance</option>
								<option value="healthcare">Healthcare</option>
								<option value="education">Education</option>
								<option value="retail">Retail</option>
							</select>
						</div>
					</div>
				</div>

				<div class="row mt-2">
					<div class="col-12">
						<button class="btn btn-sm filter-more-btn" type="button"
							data-bs-toggle="collapse" data-bs-target="#advancedFilters"
							aria-expanded="false" aria-controls="advancedFilters">
							<i class="bi bi-sliders"></i> More Filters
						</button>
					</div>
				</div>

				<div class="collapse mt-3" id="advancedFilters">
					<div class="row">
						<div class="col-md-3 mb-3 salary-filter">
							<div class="filter-group">
								<div class="filter-label">Salary</div>
								<select class="filter-select" id="salary">
									<option value="">Any Salary</option>
									<option value="0-30k">$0 - $30k</option>
									<option value="30k-60k">$30k - $60k</option>
									<option value="60k-100k">$60k - $100k</option>
									<option value="100k+">$100k+</option>
								</select>
							</div>
						</div>

						<div class="col-md-3 mb-3">
							<div class="filter-group">
								<div class="filter-label">Freshness</div>
								<select class="filter-select" id="freshness">
									<option value="">Any Time</option>
									<option value="24h">Last 24 Hours</option>
									<option value="3d">Last 3 Days</option>
									<option value="7d">Last 7 Days</option>
									<option value="14d">Last 14 Days</option>
								</select>
							</div>
						</div>

						<div class="col-md-3 mb-3 duration-filter">
							<div class="filter-group">
								<div class="filter-label">Duration</div>
								<select class="filter-select" id="duration">
									<option value="">Any Duration</option>
									<option value="1-3">1-3 Months</option>
									<option value="3-6">3-6 Months</option>
									<option value="6+">6+ Months</option>
								</select>
							</div>
						</div>

						<div class="col-md-3 mb-3 stipend-filter">
							<div class="filter-group">
								<div class="filter-label">Stipend</div>
								<select class="filter-select" id="stipend">
									<option value="">Any Stipend</option>
									<option value="0-5k">$0 - $5k</option>
									<option value="5k-10k">$5k - $10k</option>
									<option value="10k+">$10k+</option>
								</select>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="main-content container mb-5">
		<!-- Job List -->
		<div class="job-list-container">
			
			<div th:if="${jobs != null} and ${!jobs.isEmpty()}"
				th:each="job, jobStat : ${jobs}" class="job-card"
				th:classappend="${jobStat.index == 0} ? ' active' : ''"
				th:onclick="'showJobDetail(' + ${job.jobId} + ')'">
				
				<span th:if="${jobStat.index == 0}" id="firstJobId"
				th:text="${job.jobId}" style="display: none;"></span>
				
				<h5 class="job-title" th:text="${job.jobTitle}">Job Title</h5>
				<div class="company-name" th:text="${job.company}">Company
					Name</div>

				<div class="job-info">
					<!-- Job Type -->
					<span class="job-tag"> <i class="fas fa-suitcase"></i> <span
						th:text="${job.jobType}">Job Type</span>
					</span> <span class="job-tag"> <i class="fas fa-location-dot"></i>
						<span th:text="${job.location.iterator().next().location}"></span></span>


					<!-- Salary or Stipend + Duration based on Job Type -->
					<span class="job-tag"
						th:if="${job.jobType == 'Full Time' or job.jobType == 'Part Time'}">
						Rs.<span th:text="${job.salaryRange}">Salary Range</span>
					</span> <span class="job-tag" th:if="${job.jobType == 'Internship'}">
						<span th:text="${job.duration + ' Months'}">Duration</span>
					</span> <span class="job-tag" th:if="${job.jobType == 'Internship'}">
						Rs.<span th:text="${job.stipend}">Stipend</span> /month
					</span>

					<!-- Applicants -->
					<span class="job-tag"> <i class="fas fa-users"></i> <span
						th:text="${job.applicants}">0</span> Applicants
					</span>
				</div>

				<!-- Posted Date -->
				<div class="posted-date">
					<i class="fas fa-clock"></i> <span
						th:text="'Posted ' + ${job.postedAgo} + ' ago'"></span>
				</div>
			</div>
		</div>


		<!-- Job Detail -->
		<div id="job-detail-container"></div>
	</div>

	<div th:replace="jobseeker/footer :: footer"></div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>